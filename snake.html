<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Snake Game</title>
    <style>
        #gameBoard {
            position: relative;
            height: 300px;
            width: 300px;
            border: 1px solid black;
         }
        
        .dot {
            position: absolute;
            height: 20px;
            width: 20px;
            background-color: red;
         }
    </style>
</head>
<body>
    <div id="gameBoard"></div>
    
    <script>
    let board = document.getElementById('gameBoard');
    let snake = [{x: 15, y: 15}]; // initial position of the snake head
    let food = {x: Math.floor(Math.random() * 20) * 20, y: Math.floor(Math.random() * 20) * 20}; // initial position of the food
    let direction = 'right';
    
    function drawDot(dot) {
        let dotElm = document.createElement('div');
        dotElm.classList.add('dot');
        dotElm.style.left = dot.x + 'px';
        dotElm.style.top = dot.y + 'px';
        board.appendChild(dotElm);
     }
    
    drawDot(snake[0]); // draw the initial snake head
    drawDot(food); // draw the initial food
    
    window.addEventListener('keydown', changeDirection);
    
    function changeDirection(e) {
        switch (e.keyCode) {
            case 37: direction = 'left'; break; // left arrow key
            case 38: direction = 'up'; break;     // up arrow key
            case 39: direction = 'right'; break; // right arrow key
            case 40: direction = 'down'; break;    // down arrow key
         }
     }
    
    setInterval(moveSnake, 150); // move the snake every 150 milliseconds (about 6 frames per second)
    
    function moveSnake() {
        let newHead = {x: snake[0].x, y: snake[0].y};
        
        switch(direction) {
            case 'right': newHead.x += 20; break;
            case 'left': newHead.x -= 20; break;
            case 'up': newHead.y -= 20; break;
            case 'down': newHead.y += 20; break;
         }
        
        snake.unshift(newHead); // add the new head to the start of the array
        
        if (snake[0].x === food.x && snake[0].y === food.y) { // if the snake has eaten the food
            document.getElementById('score').innerText = parseInt(document.getElementById('score').innerText, 10) + 1;
            
            while (snake.find(dot => dot.x === newHead.x && dot.y === newHead.y)) { // find a new position for the food that isn't occupied by the snake
                food = {x: Math.floor(Math.random() * 20) * 20, y: Math.floor(Math.random() * 20) * 20};
            }
            
            drawDot(food); // draw the new food at its position
         } else {
            snake.pop(); // remove the last element of the array if the snake did not eat any food
            board.removeChild(board.children[1]); // remove the tail from the board
         }
     }
    </script>
</body>
</html>
